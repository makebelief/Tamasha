"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[606],{8947:(e,t,a)=>{a.d(t,{BI:()=>h,Bj:()=>g,Gv:()=>j,JO:()=>p,Jc:()=>w,Ki:()=>f,LF:()=>u,Nt:()=>c,QK:()=>l,c0:()=>y,dk:()=>m,eS:()=>d,rF:()=>x,rX:()=>b,tT:()=>v,uZ:()=>N,zv:()=>i});let r="https://api.themoviedb.org/3",n={method:"GET",headers:{accept:"application/json",Authorization:"Bearer eyJhbGciOiJIUzI1NiJ9.eyJhdWQiOiI1ZTFkN2RlOWZkYjUzODhjNTE2NThlNDg3MTQ2ZDc2ZiIsIm5iZiI6MTc1MDY5MTg1OC43MDIwMDAxLCJzdWIiOiI2ODU5NzAxMjRmMWZlOGMwODI2YmE2ZDciLCJzY29wZXMiOlsiYXBpX3JlYWQiXSwidmVyc2lvbiI6MX0.cKSOUSzQ-ykD6_1OOcYzfJEPFRHbTsafMcCJZ6EHtD0"}},s=new Map;async function o(e){let t=s.get(e);if(t&&Date.now()-t.timestamp<3e5)return t.data;try{let t=await fetch(e,n);if(!t.ok)throw Error("HTTP error! status: ".concat(t.status));let a=await t.json();return s.set(e,{data:a,timestamp:Date.now()}),a}catch(e){throw console.error("API fetch error:",e),e}}async function i(e){let{year:t,rating:a,runtime:n,page:s=1,genreId:i}=e,l=new URLSearchParams({include_adult:"true",include_video:"true",language:"en-US",page:s.toString(),"primary_release_date.gte":"".concat(t[0],"-01-01"),"primary_release_date.lte":"".concat(t[1],"-12-31"),"vote_average.gte":a[0].toString(),"vote_average.lte":a[1].toString(),"with_runtime.gte":n[0].toString(),"with_runtime.lte":n[1].toString(),sort_by:"popularity.desc"});return i&&l.append("with_genres",i.toString()),o("".concat(r,"/discover/movie?").concat(l.toString()))}async function l(e){let{year:t,rating:a,runtime:n,page:s=1,genreId:i}=e,l=new URLSearchParams({include_adult:"true",include_null_first_air_dates:"false",language:"en-US",page:s.toString(),"first_air_date.gte":"".concat(t[0],"-01-01"),"first_air_date.lte":"".concat(t[1],"-12-31"),"vote_average.gte":a[0].toString(),"vote_average.lte":a[1].toString(),"with_runtime.gte":n[0].toString(),"with_runtime.lte":n[1].toString(),sort_by:"popularity.desc"});return i&&l.append("with_genres",i.toString()),o("".concat(r,"/discover/tv?").concat(l.toString()))}async function c(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"week";return o("".concat(r,"/trending/movie/").concat(e,"?language=en-US"))}async function d(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"week";return o("".concat(r,"/trending/tv/").concat(e,"?language=en-US"))}async function g(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return o("".concat(r,"/search/multi?query=").concat(encodeURIComponent(e),"&include_adult=true&language=en-US&page=").concat(t))}async function u(e){return o("".concat(r,"/movie/").concat(e,"?language=en-US"))}async function h(e){return o("".concat(r,"/tv/").concat(e,"?language=en-US"))}async function m(e){return o("".concat(r,"/movie/").concat(e,"/credits?language=en-US"))}async function f(e){return o("".concat(r,"/tv/").concat(e,"/credits?language=en-US"))}async function x(){return o("".concat(r,"/genre/movie/list?language=en-US"))}async function p(){return o("".concat(r,"/genre/tv/list?language=en-US"))}async function y(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return o("".concat(r,"/discover/movie?include_adult=true&include_video=true&language=en-US&page=").concat(t,"&sort_by=popularity.desc&with_genres=").concat(e))}async function v(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return o("".concat(r,"/discover/tv?include_adult=true&include_null_first_air_dates=false&language=en-US&page=").concat(t,"&sort_by=popularity.desc&with_genres=").concat(e))}async function b(e){return o("".concat(r,"/movie/").concat(e,"/videos?language=en-US"))}async function w(e){return o("".concat(r,"/tv/").concat(e,"/videos?language=en-US"))}async function N(e){let t="".concat(r,"/movie/").concat(e,"/watch/providers");return await o(t)}async function j(e){let t="".concat(r,"/tv/").concat(e,"/watch/providers");return await o(t)}},27643:(e,t,a)=>{a.d(t,{Providers:()=>l,n:()=>c});var r=a(95155),n=a(12115),s=a(51362);function o(e){let{children:t,...a}=e;return(0,r.jsx)(s.N,{...a,children:t})}let i=(0,n.createContext)(void 0);function l(e){let{children:t}=e,[a,s]=(0,n.useState)([]),[l,c]=(0,n.useState)(!1);return((0,n.useEffect)(()=>{c(!0);let e=localStorage.getItem("afroflix-watchlist");e&&s(JSON.parse(e))},[]),l)?(0,r.jsx)(o,{attribute:"class",defaultTheme:"system",enableSystem:!0,children:(0,r.jsx)(i.Provider,{value:{watchlist:a,addToWatchlist:e=>{let t=[...a,e];s(t),localStorage.setItem("afroflix-watchlist",JSON.stringify(t))},removeFromWatchlist:e=>{let t=a.filter(t=>t.id!==e);s(t),localStorage.setItem("afroflix-watchlist",JSON.stringify(t))},toggleWatched:e=>{let t=a.map(t=>t.id===e?{...t,watched:!t.watched}:t);s(t),localStorage.setItem("afroflix-watchlist",JSON.stringify(t))},isInWatchlist:e=>a.some(t=>t.id===e),clearWatchlist:()=>{s([]),localStorage.setItem("afroflix-watchlist",JSON.stringify([]))}},children:t})}):null}function c(){let e=(0,n.useContext)(i);if(void 0===e)throw Error("useApp must be used within a Providers");return e}},53999:(e,t,a)=>{a.d(t,{cn:()=>s,sg:()=>o});var r=a(52596),n=a(39688);function s(){for(var e=arguments.length,t=Array(e),a=0;a<e;a++)t[a]=arguments[a];return(0,n.QP)((0,r.$)(t))}function o(e,t){let a=null;return function(){for(var r=arguments.length,n=Array(r),s=0;s<r;s++)n[s]=arguments[s];a&&clearTimeout(a),a=setTimeout(()=>{e(...n)},t)}}},77606:(e,t,a)=>{a.d(t,{default:()=>E});var r=a(95155),n=a(12115),s=a(6874),o=a.n(s),i=a(66766),l=a(57340),c=a(23829),d=a(62098),g=a(93509),u=a(54416),h=a(74783),m=a(97168),f=a(27643),x=a(51362),p=a(35695),y=a(77740),v=a(47924),b=a(53999);a(99840);let w=n.forwardRef((e,t)=>{let{className:a,...n}=e;return(0,r.jsx)(y.uB,{ref:t,className:(0,b.cn)("flex h-full w-full flex-col overflow-hidden rounded-md bg-popover text-popover-foreground",a),...n})});w.displayName=y.uB.displayName;let N=n.forwardRef((e,t)=>{let{className:a,...n}=e;return(0,r.jsxs)("div",{className:"flex items-center border-b px-3","cmdk-input-wrapper":"",children:[(0,r.jsx)(v.A,{className:"mr-2 h-4 w-4 shrink-0 opacity-50"}),(0,r.jsx)(y.uB.Input,{ref:t,className:(0,b.cn)("flex h-11 w-full rounded-md bg-transparent py-3 text-sm outline-none placeholder:text-muted-foreground disabled:cursor-not-allowed disabled:opacity-50",a),...n})]})});N.displayName=y.uB.Input.displayName,n.forwardRef((e,t)=>{let{className:a,...n}=e;return(0,r.jsx)(y.uB.List,{ref:t,className:(0,b.cn)("max-h-[300px] overflow-y-auto overflow-x-hidden",a),...n})}).displayName=y.uB.List.displayName;let j=n.forwardRef((e,t)=>(0,r.jsx)(y.uB.Empty,{ref:t,className:"py-6 text-center text-sm",...e}));j.displayName=y.uB.Empty.displayName;let k=n.forwardRef((e,t)=>{let{className:a,...n}=e;return(0,r.jsx)(y.uB.Group,{ref:t,className:(0,b.cn)("overflow-hidden p-1 text-foreground [&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:py-1.5 [&_[cmdk-group-heading]]:text-xs [&_[cmdk-group-heading]]:font-medium [&_[cmdk-group-heading]]:text-muted-foreground",a),...n})});k.displayName=y.uB.Group.displayName,n.forwardRef((e,t)=>{let{className:a,...n}=e;return(0,r.jsx)(y.uB.Separator,{ref:t,className:(0,b.cn)("-mx-1 h-px bg-border",a),...n})}).displayName=y.uB.Separator.displayName;let S=n.forwardRef((e,t)=>{let{className:a,...n}=e;return(0,r.jsx)(y.uB.Item,{ref:t,className:(0,b.cn)("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none aria-selected:bg-accent aria-selected:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",a),...n})});S.displayName=y.uB.Item.displayName;var _=a(8947),I=a(41066),A=a(36618);function U(){let[e,t]=(0,n.useState)(""),[a,s]=(0,n.useState)([]),[o,i]=(0,n.useState)(!1),l=(0,p.useRouter)(),c=(0,n.useCallback)((0,b.sg)(async e=>{if(!e.trim()){s([]);return}i(!0);try{let t=await (0,_.Bj)(e,1);s(t.results.slice(0,5))}catch(e){console.error("Search error:",e),s([])}finally{i(!1)}},300),[]);(0,n.useEffect)(()=>{c(e)},[e,c]);let d=e=>{let a=e.media_type||(e.title?"movie":"tv");l.push("/".concat(a,"/").concat(e.id)),t(""),s([])};return(0,r.jsx)("div",{className:"relative",children:(0,r.jsxs)(w,{className:"rounded-lg border shadow-md",children:[(0,r.jsx)(N,{placeholder:"Search movies and TV shows...",value:e,onValueChange:t,className:"h-12"}),a.length>0&&(0,r.jsx)("div",{className:"absolute top-full left-0 right-0 mt-1 bg-white dark:bg-gray-900 rounded-lg border border-gray-200 dark:border-gray-800 shadow-lg z-50",children:(0,r.jsx)(k,{className:"max-h-[300px] overflow-y-auto",children:a.map(e=>{let t=e.media_type||(e.title?"movie":"tv"),a=e.title||e.name,n=new Date(e.release_date||e.first_air_date).getFullYear();return(0,r.jsxs)(S,{value:a,onSelect:()=>d(e),className:"flex items-center gap-2 p-2 cursor-pointer hover:bg-gray-100 dark:hover:bg-gray-800",children:["movie"===t?(0,r.jsx)(I.A,{className:"w-4 h-4 text-gray-500"}):(0,r.jsx)(A.A,{className:"w-4 h-4 text-gray-500"}),(0,r.jsxs)("div",{children:[(0,r.jsx)("div",{className:"font-medium",children:a}),(0,r.jsxs)("div",{className:"text-sm text-gray-500",children:[t.charAt(0).toUpperCase()+t.slice(1)," â€¢ ",n||"N/A"]})]})]},"".concat(e.id,"-").concat(t))})})}),e&&!o&&0===a.length&&(0,r.jsx)("div",{className:"absolute top-full left-0 right-0 mt-1 bg-white dark:bg-gray-900 rounded-lg border border-gray-200 dark:border-gray-800 shadow-lg z-50",children:(0,r.jsx)(j,{children:"No results found."})})]})})}function E(){let[e,t]=(0,n.useState)(!1),[a,s]=(0,n.useState)(!1),[p,y]=(0,n.useState)(!1),{watchlist:v}=(0,f.n)(),{theme:b,setTheme:w}=(0,x.D)();return((0,n.useEffect)(()=>{y(!0)},[]),(0,n.useEffect)(()=>{let e=()=>{s(window.scrollY>50)};return window.addEventListener("scroll",e),()=>window.removeEventListener("scroll",e)},[]),p)?(0,r.jsx)("header",{className:"fixed top-0 left-0 right-0 z-50 transition-all duration-500 ".concat(a?"bg-white/80 dark:bg-gray-900/90 backdrop-blur-xl shadow-lg border-b border-gray-200/20 dark:border-gray-800/50":"bg-white/5 dark:bg-gray-900/20 backdrop-blur-sm"),children:(0,r.jsxs)("nav",{className:"container mx-auto px-4",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between h-20",children:[(0,r.jsxs)(o(),{href:"/",className:"flex items-center space-x-3 group transition-transform duration-300 hover:scale-105",children:[(0,r.jsx)("div",{className:"relative w-16 h-16 flex items-center justify-center",children:(0,r.jsx)(i.default,{src:"/tamasha-logo.png",alt:"Tamasha Logo",width:64,height:64,className:"object-contain transition-transform duration-300 group-hover:scale-110",priority:!0})}),(0,r.jsxs)("div",{className:"flex flex-col",children:[(0,r.jsx)("span",{className:"text-2xl font-bold bg-clip-text text-transparent bg-gradient-to-r from-orange-500 to-red-600",children:"Tamasha"}),(0,r.jsx)("span",{className:"text-xs font-semibold tracking-wider text-orange-500/80",children:"KENYAN CINEMA REDEFINED"})]})]}),(0,r.jsxs)("div",{className:"hidden md:flex items-center space-x-6",children:[(0,r.jsx)("div",{className:"w-[320px] relative",children:(0,r.jsx)(U,{})}),(0,r.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,r.jsxs)(o(),{href:"/",className:"nav-link group flex items-center space-x-2 px-3 py-2 rounded-lg text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-800/50 hover:text-orange-600 dark:hover:text-orange-400 transition-all duration-300",children:[(0,r.jsx)(l.A,{className:"w-5 h-5 transition-transform group-hover:scale-110"}),(0,r.jsx)("span",{className:"font-medium",children:"Home"})]}),(0,r.jsxs)(o(),{href:"/watchlist",className:"nav-link group flex items-center space-x-2 px-3 py-2 rounded-lg text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-800/50 hover:text-orange-600 dark:hover:text-orange-400 transition-all duration-300",children:[(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsx)(c.A,{className:"w-5 h-5 transition-transform group-hover:scale-110"}),v.length>0&&(0,r.jsx)("span",{className:"absolute -top-2 -right-2 w-4 h-4 flex items-center justify-center text-[10px] font-bold bg-orange-500 text-white rounded-full",children:v.length})]}),(0,r.jsx)("span",{className:"font-medium",children:"Watchlist"})]}),(0,r.jsx)(m.$,{variant:"ghost",size:"icon",onClick:()=>w("dark"===b?"light":"dark"),className:"w-10 h-10 rounded-xl bg-gray-100 dark:bg-gray-800 hover:bg-orange-100 dark:hover:bg-gray-700 border border-gray-200/20 dark:border-gray-700/50 transition-all duration-300",children:"dark"===b?(0,r.jsx)(d.A,{className:"w-5 h-5 text-orange-500 transition-transform hover:scale-110 duration-300"}):(0,r.jsx)(g.A,{className:"w-5 h-5 text-orange-500 transition-transform hover:scale-110 duration-300"})})]})]}),(0,r.jsx)(m.$,{variant:"ghost",size:"icon",className:"md:hidden w-10 h-10 rounded-xl bg-gray-100 dark:bg-gray-800 hover:bg-orange-100 dark:hover:bg-gray-700 border border-gray-200/20 dark:border-gray-700/50 transition-all duration-300",onClick:()=>t(!e),children:e?(0,r.jsx)(u.A,{className:"w-6 h-6"}):(0,r.jsx)(h.A,{className:"w-6 h-6"})})]}),e&&(0,r.jsx)("div",{className:"md:hidden fixed inset-x-0 top-20 p-4 bg-white/90 dark:bg-gray-900/95 backdrop-blur-xl border-b border-gray-200/20 dark:border-gray-800/50",children:(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsx)("div",{className:"relative",children:(0,r.jsx)(U,{})}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsxs)(o(),{href:"/",className:"flex items-center space-x-3 p-3 rounded-xl bg-white/5 dark:bg-gray-800/30 hover:bg-gray-100 dark:hover:bg-gray-800/50 text-gray-700 dark:text-gray-300 transition-all duration-300",onClick:()=>t(!1),children:[(0,r.jsx)(l.A,{className:"w-5 h-5"}),(0,r.jsx)("span",{className:"font-medium",children:"Home"})]}),(0,r.jsx)(o(),{href:"/watchlist",className:"flex items-center justify-between p-3 rounded-xl bg-white/5 dark:bg-gray-800/30 hover:bg-gray-100 dark:hover:bg-gray-800/50 text-gray-700 dark:text-gray-300 transition-all duration-300",onClick:()=>t(!1),children:(0,r.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsx)(c.A,{className:"w-5 h-5"}),v.length>0&&(0,r.jsx)("span",{className:"absolute -top-2 -right-2 w-4 h-4 flex items-center justify-center text-[10px] font-bold bg-orange-500 text-white rounded-full",children:v.length})]}),(0,r.jsx)("span",{className:"font-medium",children:"Watchlist"})]})}),(0,r.jsx)(m.$,{variant:"ghost",size:"lg",onClick:()=>w("dark"===b?"light":"dark"),className:"w-full justify-start space-x-3 p-3 rounded-xl bg-white/5 dark:bg-gray-800/30 hover:bg-gray-100 dark:hover:bg-gray-800/50 transition-all duration-300",children:"dark"===b?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(d.A,{className:"w-5 h-5 text-orange-500"}),(0,r.jsx)("span",{className:"text-gray-700 dark:text-gray-300",children:"Light Mode"})]}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(g.A,{className:"w-5 h-5 text-orange-500"}),(0,r.jsx)("span",{className:"text-gray-700 dark:text-gray-300",children:"Dark Mode"})]})})]})]})})]})}):null}},97168:(e,t,a)=>{a.d(t,{$:()=>c,r:()=>l});var r=a(95155),n=a(12115),s=a(99708),o=a(74466),i=a(53999);let l=(0,o.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),c=n.forwardRef((e,t)=>{let{className:a,variant:n,size:o,asChild:c=!1,...d}=e,g=c?s.DX:"button";return(0,r.jsx)(g,{className:(0,i.cn)(l({variant:n,size:o,className:a})),ref:t,...d})});c.displayName="Button"},99840:(e,t,a)=>{a.d(t,{Cf:()=>g,L3:()=>u,lG:()=>l});var r=a(95155),n=a(12115),s=a(15452),o=a(54416),i=a(53999);let l=s.bL;s.l9;let c=s.ZL;s.bm;let d=n.forwardRef((e,t)=>{let{className:a,...n}=e;return(0,r.jsx)(s.hJ,{ref:t,className:(0,i.cn)("fixed inset-0 z-50 bg-black/80 backdrop-blur-sm data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",a),...n})});d.displayName=s.hJ.displayName;let g=n.forwardRef((e,t)=>{let{className:a,children:n,...l}=e;return(0,r.jsxs)(c,{children:[(0,r.jsx)(d,{}),(0,r.jsxs)(s.UC,{ref:t,className:(0,i.cn)("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-white p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] dark:bg-gray-900 dark:text-gray-50 sm:rounded-lg",a),...l,children:[n,(0,r.jsxs)(s.bm,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-white transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-gray-950 focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-gray-100 data-[state=open]:text-gray-500 dark:ring-offset-gray-950 dark:focus:ring-gray-300 dark:data-[state=open]:bg-gray-800 dark:data-[state=open]:text-gray-400",children:[(0,r.jsx)(o.A,{className:"h-4 w-4"}),(0,r.jsx)("span",{className:"sr-only",children:"Close"})]})]})]})});g.displayName=s.UC.displayName;let u=n.forwardRef((e,t)=>{let{className:a,...n}=e;return(0,r.jsx)(s.hE,{ref:t,className:(0,i.cn)("text-lg font-semibold leading-none tracking-tight",a),...n})});u.displayName=s.hE.displayName,n.forwardRef((e,t)=>{let{className:a,...n}=e;return(0,r.jsx)(s.VY,{ref:t,className:(0,i.cn)("text-sm text-gray-500 dark:text-gray-400",a),...n})}).displayName=s.VY.displayName}}]);